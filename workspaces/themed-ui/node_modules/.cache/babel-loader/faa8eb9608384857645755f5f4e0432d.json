{"ast":null,"code":"import _objectSpread from\"/Users/pixelbandito/Code/pixelbandito/themetron-3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/pixelbandito/Code/pixelbandito/themetron-3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/pixelbandito/Code/pixelbandito/themetron-3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect,useRef,useState}from'react';import{Transition}from'react-transition-group';import classNames from'classnames';import styled from'styled-components';import styles from'./Accordion.module.css';import Card from'../Card';var Accordion=function Accordion(_ref){var children=_ref.children,className=_ref.className,defaultIsOpen=_ref.defaultIsOpen,customHead=_ref.head,variant=_ref.variant,passedProps=_objectWithoutProperties(_ref,[\"children\",\"className\",\"defaultIsOpen\",\"head\",\"variant\"]);var _useState=useState(defaultIsOpen),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),expandedHeight=_useState4[0],setExpandedHeight=_useState4[1];var cardRef=useRef();var head=customHead!==null&&customHead!==void 0?customHead:isOpen?'Show less':'Show more';useEffect(function(){if(isOpen&&cardRef.current){setExpandedHeight(cardRef.current.scrollHeight);}},[isOpen]);var transitionStyles={exiting:{borderBottomWidth:1},exited:{borderBottomWidth:0}};return/*#__PURE__*/React.createElement(Card,Object.assign({},passedProps,{className:classNames(className,styles.Accordion),variant:variant}),/*#__PURE__*/React.createElement(Transition,{in:isOpen,timeout:200},function(state){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Head,{variant:variant,onClick:function onClick(){return setIsOpen(function(prevIsOpen){return!prevIsOpen;});},style:_objectSpread({},transitionStyles[state])},head),/*#__PURE__*/React.createElement(Card.Body,{className:styles.body,ref:cardRef,style:{boxSizing:'content-box',maxHeight:!isOpen?'0px':\"\".concat(expandedHeight,\"px\"),paddingBottom:!isOpen?'0px':undefined,paddingTop:!isOpen?'0px':undefined},variant:variant},children));}));};Accordion.defaultProps={className:'',defaultIsOpen:false,head:null,variant:'default'};var StyledAccordion=styled(Accordion)(function(_ref2){var backgroundColor=_ref2.backgroundColor,theme=_ref2.theme;return{color:theme.color};});export default StyledAccordion;","map":{"version":3,"sources":["/Users/pixelbandito/Code/pixelbandito/themetron-3/workspaces/themed-ui/src/Accordion/Accordion.js"],"names":["React","useEffect","useRef","useState","Transition","classNames","styled","styles","Card","Accordion","children","className","defaultIsOpen","customHead","head","variant","passedProps","isOpen","setIsOpen","expandedHeight","setExpandedHeight","cardRef","current","scrollHeight","transitionStyles","exiting","borderBottomWidth","exited","state","prevIsOpen","body","boxSizing","maxHeight","paddingBottom","undefined","paddingTop","defaultProps","StyledAccordion","backgroundColor","theme","color"],"mappings":"2gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAASC,UAAT,KAA2B,wBAA3B,CAEA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAOZ,IANJC,CAAAA,QAMI,MANJA,QAMI,CALJC,SAKI,MALJA,SAKI,CAJJC,aAII,MAJJA,aAII,CAHEC,UAGF,MAHJC,IAGI,CAFJC,OAEI,MAFJA,OAEI,CADDC,WACC,wGACwBb,QAAQ,CAACS,aAAD,CADhC,wCACGK,MADH,eACWC,SADX,8BAEwCf,QAAQ,EAFhD,yCAEGgB,cAFH,eAEmBC,iBAFnB,eAGJ,GAAMC,CAAAA,OAAO,CAAGnB,MAAM,EAAtB,CACA,GAAMY,CAAAA,IAAI,CAAGD,UAAH,SAAGA,UAAH,UAAGA,UAAH,CAAkBI,MAAM,CAAG,WAAH,CAAiB,WAAnD,CAEAhB,SAAS,CAAC,UAAM,CACd,GAAIgB,MAAM,EAAII,OAAO,CAACC,OAAtB,CAA+B,CAC7BF,iBAAiB,CAACC,OAAO,CAACC,OAAR,CAAgBC,YAAjB,CAAjB,CACD,CACF,CAJQ,CAIN,CAACN,MAAD,CAJM,CAAT,CAMA,GAAMO,CAAAA,gBAAgB,CAAG,CACvBC,OAAO,CAAG,CAAEC,iBAAiB,CAAE,CAArB,CADa,CAEvBC,MAAM,CAAG,CAAED,iBAAiB,CAAE,CAArB,CAFc,CAAzB,CAKA,mBACE,oBAAC,IAAD,kBACMV,WADN,EAEE,SAAS,CAAEX,UAAU,CAACM,SAAD,CAAYJ,MAAM,CAACE,SAAnB,CAFvB,CAGE,OAAO,CAAEM,OAHX,gBAKE,oBAAC,UAAD,EACE,EAAE,CAAEE,MADN,CAEE,OAAO,CAAE,GAFX,EAIG,SAAAW,KAAK,qBACJ,qDACE,oBAAC,IAAD,CAAM,IAAN,EACE,OAAO,CAAEb,OADX,CAEE,OAAO,CAAE,yBAAMG,CAAAA,SAAS,CAAC,SAAAW,UAAU,QAAI,CAACA,UAAL,EAAX,CAAf,EAFX,CAGE,KAAK,kBACAL,gBAAgB,CAACI,KAAD,CADhB,CAHP,EAOGd,IAPH,CADF,cAUE,oBAAC,IAAD,CAAM,IAAN,EACE,SAAS,CAAEP,MAAM,CAACuB,IADpB,CAEE,GAAG,CAAET,OAFP,CAGE,KAAK,CAAE,CACLU,SAAS,CAAE,aADN,CAELC,SAAS,CAAE,CAACf,MAAD,CAAU,KAAV,WAAqBE,cAArB,MAFN,CAGLc,aAAa,CAAE,CAAChB,MAAD,CAAU,KAAV,CAAkBiB,SAH5B,CAILC,UAAU,CAAE,CAAClB,MAAD,CAAU,KAAV,CAAkBiB,SAJzB,CAHT,CASE,OAAO,CAAEnB,OATX,EAWGL,QAXH,CAVF,CADI,EAJR,CALF,CADF,CAuCD,CA/DD,CAwEAD,SAAS,CAAC2B,YAAV,CAAyB,CACvBzB,SAAS,CAAE,EADY,CAEvBC,aAAa,CAAE,KAFQ,CAGvBE,IAAI,CAAE,IAHiB,CAIvBC,OAAO,CAAE,SAJc,CAAzB,CAOA,GAAMsB,CAAAA,eAAe,CAAG/B,MAAM,CAACG,SAAD,CAAN,CACtB,eAGM,IAFJ6B,CAAAA,eAEI,OAFJA,eAEI,CADJC,KACI,OADJA,KACI,CACJ,MAAO,CACLC,KAAK,CAAED,KAAK,CAACC,KADR,CAAP,CAGD,CARqB,CAAxB,CAWA,cAAeH,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Transition } from 'react-transition-group';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styled from 'styled-components';\nimport styles from './Accordion.module.css';\nimport Card from '../Card';\n\nconst Accordion = ({\n  children,\n  className,\n  defaultIsOpen,\n  head: customHead,\n  variant,\n  ...passedProps\n}) => {\n  const [isOpen, setIsOpen] = useState(defaultIsOpen);\n  const [expandedHeight, setExpandedHeight] = useState();\n  const cardRef = useRef();\n  const head = customHead ?? (isOpen ? 'Show less' : 'Show more');\n\n  useEffect(() => {\n    if (isOpen && cardRef.current) {\n      setExpandedHeight(cardRef.current.scrollHeight);\n    }\n  }, [isOpen]);\n\n  const transitionStyles = {\n    exiting:  { borderBottomWidth: 1 },\n    exited:  { borderBottomWidth: 0 },\n  };\n\n  return (\n    <Card\n      {...passedProps}\n      className={classNames(className, styles.Accordion)}\n      variant={variant}\n    >\n      <Transition\n        in={isOpen}\n        timeout={200}\n      >\n        {state => (\n          <>\n            <Card.Head\n              variant={variant}\n              onClick={() => setIsOpen(prevIsOpen => !prevIsOpen)}\n              style={{\n                ...transitionStyles[state],\n              }}\n            >\n              {head}\n            </Card.Head>\n            <Card.Body\n              className={styles.body}\n              ref={cardRef}\n              style={{\n                boxSizing: 'content-box',\n                maxHeight: !isOpen ? '0px' : `${expandedHeight}px`,\n                paddingBottom: !isOpen ? '0px' : undefined,\n                paddingTop: !isOpen ? '0px' : undefined,\n              }}\n              variant={variant}\n            >\n              {children}\n            </Card.Body>\n          </>\n        )}\n      </Transition>\n    </Card>\n  )\n};\n\nAccordion.propTypes = {\n  className: PropTypes.string,\n  defaultIsOpen: PropTypes.bool,\n  head: PropTypes.node,\n  variant: PropTypes.string,\n};\n\nAccordion.defaultProps = {\n  className: '',\n  defaultIsOpen: false,\n  head: null,\n  variant: 'default',\n};\n\nconst StyledAccordion = styled(Accordion)(\n  ({\n    backgroundColor,\n    theme,\n  }) => {\n    return {\n      color: theme.color,\n    };\n  }\n);\n\nexport default StyledAccordion;\n"]},"metadata":{},"sourceType":"module"}