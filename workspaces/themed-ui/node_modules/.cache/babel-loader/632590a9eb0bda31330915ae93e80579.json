{"ast":null,"code":"import _slicedToArray from\"/Users/pixelbandito/Code/pixelbandito/themetron-3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import colorConvert from'color-convert';export var getContrastRatio=function getContrastRatio(_ref){var hexA=_ref.hexA,hexB=_ref.hexB,luminanceA=_ref.luminanceA,luminanceB=_ref.luminanceB;luminanceA=luminanceA||luminanceA===0?luminanceA:getLuminance(hexA);luminanceB=luminanceB||luminanceB===0?luminanceB:getLuminance(hexB);var _sort=[luminanceA,luminanceB].sort(),_sort2=_slicedToArray(_sort,2),darker=_sort2[0],lighter=_sort2[1];var contrastRatio=((lighter+0.05)/(darker+0.05)).toFixed(2);return contrastRatio;};export var getNextLuminanceByContrastRatio=function getNextLuminanceByContrastRatio(_ref2){var luminance=_ref2.luminance,contrastRatio=_ref2.contrastRatio;return luminance*contrastRatio+contrastRatio/20-1/20;};export var getPrevLuminanceByContrastRatio=function getPrevLuminanceByContrastRatio(_ref3){var luminance=_ref3.luminance,contrastRatio=_ref3.contrastRatio;return(luminance+1/20)/contrastRatio-1/20;};export var getLuminance=function getLuminance(hex){var rgb=colorConvert.hex.rgb(hex);var rgb2=rgb.map(function(channel,i){var c=channel/255;if(c<=0.03928){return c/12.92;}else{return Math.pow((c+0.055)/1.055,2.4);}});var luminance=0.2126*rgb2[0]+0.7152*rgb2[1]+0.0722*rgb2[2];return luminance;};export var setColorByLuminanceWithHsl=function setColorByLuminanceWithHsl(_ref4){var _ref4$attempt=_ref4.attempt,attempt=_ref4$attempt===void 0?0:_ref4$attempt,hex=_ref4.hex,initHsl=_ref4.initHsl,targetLuminance=_ref4.luminance,_ref4$maxAttempts=_ref4.maxAttempts,maxAttempts=_ref4$maxAttempts===void 0?10:_ref4$maxAttempts;var luminance=getLuminance(hex);if(luminance===targetLuminance||attempt>=maxAttempts){return hex;}var darken=luminance>targetLuminance;var jumpSize=(darken?-100:100)/Math.pow(2,attempt+1);var prevHsl=colorConvert.hex.hsl(hex);var safeInitHsl=initHsl!==undefined?initHsl:prevHsl;var hsl=setHsl({hsl:safeInitHsl,l:Math.max(0,Math.min(prevHsl[2]+jumpSize,100))});if(\"#\".concat(colorConvert.hsl.hex(hsl))===hex){return hex;}return setColorByLuminanceWithHsl({attempt:attempt+1,hex:\"#\".concat(colorConvert.hsl.hex(hsl)),initHsl:safeInitHsl,luminance:targetLuminance,maxAttempts:maxAttempts});};export var setColorByContrastWithHsl=function setColorByContrastWithHsl(_ref5){var _ref5$attempt=_ref5.attempt,attempt=_ref5$attempt===void 0?0:_ref5$attempt,baseHex=_ref5.baseHex,targetContrastRatio=_ref5.contrastRatio,originalContrastRatio=_ref5.originalContrastRatio,direction=_ref5.direction,hex=_ref5.hex,_ref5$maxAttempts=_ref5.maxAttempts,maxAttempts=_ref5$maxAttempts===void 0?10:_ref5$maxAttempts;var targetLuminance;originalContrastRatio=originalContrastRatio||targetContrastRatio;if(!direction){targetLuminance=getLuminance(baseHex)>0.5?getPrevLuminanceByContrastRatio({contrastRatio:targetContrastRatio,luminance:getLuminance(baseHex)}):getNextLuminanceByContrastRatio({contrastRatio:targetContrastRatio,luminance:getLuminance(baseHex)});}else if(direction==='asc'){targetLuminance=getNextLuminanceByContrastRatio({contrastRatio:targetContrastRatio,luminance:getLuminance(baseHex)});}else if(direction==='desc'){targetLuminance=getPrevLuminanceByContrastRatio({contrastRatio:targetContrastRatio,luminance:getLuminance(baseHex)});}var nextColor=setColorByLuminanceWithHsl({hex:hex,luminance:targetLuminance,maxAttempts:maxAttempts});if(getContrastRatio({hexA:nextColor,hexB:baseHex})>=originalContrastRatio||attempt>maxAttempts){return nextColor;}return setColorByContrastWithHsl({attempt:attempt+1,baseHex:baseHex,contrastRatio:targetContrastRatio+0.05,originalContrastRatio:originalContrastRatio,direction:direction,hex:hex,maxAttempts:maxAttempts});};export var setHsl=function setHsl(_ref6){var _ref6$hsl=_slicedToArray(_ref6.hsl,3),h=_ref6$hsl[0],s=_ref6$hsl[1],l=_ref6$hsl[2],h2=_ref6.h,s2=_ref6.s,l2=_ref6.l;return[typeof h2==='number'?h2:h,typeof s2==='number'?s2:s,typeof l2==='number'?l2:l];};export var getHexFromHexOrName=function getHexFromHexOrName(color){var safeValue;try{safeValue=colorConvert.keyword.hex(color).toLowerCase();}catch(e){safeValue=color[0]==='#'?color.substr(1):color;}return\"#\".concat(safeValue)||'#000000';};window.pxbColors={colorConvert:colorConvert,getContrastRatio:getContrastRatio,getHexFromHexOrName:getHexFromHexOrName,getLuminance:getLuminance,setColorByContrastWithHsl:setColorByContrastWithHsl,setHsl:setHsl};export default{getContrastRatio:getContrastRatio,getHexFromHexOrName:getHexFromHexOrName,getLuminance:getLuminance,setColorByContrastWithHsl:setColorByContrastWithHsl,setHsl:setHsl};","map":{"version":3,"sources":["/Users/pixelbandito/Code/pixelbandito/themetron-3/workspaces/themed-ui/src/utils/colors.js"],"names":["colorConvert","getContrastRatio","hexA","hexB","luminanceA","luminanceB","getLuminance","sort","darker","lighter","contrastRatio","toFixed","getNextLuminanceByContrastRatio","luminance","getPrevLuminanceByContrastRatio","hex","rgb","rgb2","map","channel","i","c","Math","pow","setColorByLuminanceWithHsl","attempt","initHsl","targetLuminance","maxAttempts","darken","jumpSize","prevHsl","hsl","safeInitHsl","undefined","setHsl","l","max","min","setColorByContrastWithHsl","baseHex","targetContrastRatio","originalContrastRatio","direction","nextColor","h","s","h2","s2","l2","getHexFromHexOrName","color","safeValue","keyword","toLowerCase","e","substr","window","pxbColors"],"mappings":"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","sourcesContent":["import colorConvert from 'color-convert';\n\nexport const getContrastRatio = ({ hexA, hexB, luminanceA, luminanceB }) => {\n  luminanceA = luminanceA || luminanceA === 0 ? luminanceA : getLuminance(hexA);\n  luminanceB = luminanceB || luminanceB === 0 ? luminanceB : getLuminance(hexB);\n  const [darker, lighter] = [luminanceA, luminanceB].sort();\n  const contrastRatio = ((lighter + 0.05) / (darker + 0.05)).toFixed(2);\n  return contrastRatio;\n};\n\nexport const getNextLuminanceByContrastRatio = ({ luminance, contrastRatio }) =>\n  luminance * contrastRatio + contrastRatio / 20 - 1 / 20;\n\nexport const getPrevLuminanceByContrastRatio = ({ luminance, contrastRatio }) =>\n  (luminance + 1 / 20) / contrastRatio - 1 / 20;\n\nexport const getLuminance = hex => {\n  const rgb = colorConvert.hex.rgb(hex);\n\n  let rgb2 = rgb.map((channel, i) => {\n    let c = channel / 255;\n\n    if (c <= 0.03928) {\n      return c / 12.92;\n    } else {\n      return Math.pow((c + 0.055) / 1.055, 2.4);\n    }\n  });\n\n  const luminance = (0.2126 * rgb2[0] + 0.7152 * rgb2[1] + 0.0722 * rgb2[2]);\n  return luminance;\n};\n\nexport const setColorByLuminanceWithHsl = ({\n  attempt = 0,\n  hex,\n  initHsl,\n  luminance: targetLuminance,\n  maxAttempts = 10,\n}) => {\n  const luminance = getLuminance(hex);\n\n  if (luminance === targetLuminance || attempt >= maxAttempts) {\n    return hex;\n  }\n\n  const darken = luminance > targetLuminance;\n  const jumpSize = (darken ? -100 : 100) / Math.pow(2, attempt + 1);\n  let prevHsl = colorConvert.hex.hsl(hex);\n  let safeInitHsl = initHsl !== undefined ? initHsl : prevHsl;\n\n  const hsl = setHsl({\n    hsl: safeInitHsl,\n    l: Math.max(0, Math.min(prevHsl[2] + jumpSize, 100)),\n  });\n\n  if (`#${colorConvert.hsl.hex(hsl)}` === hex) {\n    return hex;\n  }\n\n  return setColorByLuminanceWithHsl({\n    attempt: attempt + 1,\n    hex: `#${colorConvert.hsl.hex(hsl)}`,\n    initHsl: safeInitHsl,\n    luminance: targetLuminance,\n    maxAttempts,\n  });\n};\n\nexport const setColorByContrastWithHsl = ({\n  attempt = 0,\n  baseHex,\n  contrastRatio: targetContrastRatio,\n  originalContrastRatio,\n  direction,\n  hex,\n  maxAttempts = 10,\n}) => {\n  let targetLuminance;\n  originalContrastRatio = originalContrastRatio || targetContrastRatio;\n\n  if (!direction) {\n    targetLuminance = getLuminance(baseHex) > 0.5 ?\n      getPrevLuminanceByContrastRatio({\n        contrastRatio: targetContrastRatio,\n        luminance: getLuminance(baseHex),\n      }) :\n      getNextLuminanceByContrastRatio({\n        contrastRatio: targetContrastRatio,\n        luminance: getLuminance(baseHex),\n      });\n  } else if (direction === 'asc') {\n    targetLuminance = getNextLuminanceByContrastRatio({\n      contrastRatio: targetContrastRatio,\n      luminance: getLuminance(baseHex),\n    });\n  } else if (direction === 'desc') {\n    targetLuminance = getPrevLuminanceByContrastRatio({\n      contrastRatio: targetContrastRatio,\n      luminance: getLuminance(baseHex),\n    })\n  }\n\n  const nextColor = setColorByLuminanceWithHsl({\n    hex,\n    luminance: targetLuminance,\n    maxAttempts,\n  });\n\n  if (getContrastRatio({ hexA: nextColor, hexB: baseHex }) >= originalContrastRatio || attempt > maxAttempts) {\n    return nextColor;\n  }\n\n  return setColorByContrastWithHsl({\n    attempt: attempt + 1,\n    baseHex,\n    contrastRatio: targetContrastRatio + 0.05,\n    originalContrastRatio,\n    direction,\n    hex,\n    maxAttempts,\n  });\n};\n\nexport const setHsl = ({ hsl: [h, s, l], h: h2, s: s2, l: l2 }) => ([\n  typeof h2 === 'number' ? h2 : h,\n  typeof s2 === 'number' ? s2 : s,\n  typeof l2 === 'number' ? l2 : l,\n]);\n\nexport const getHexFromHexOrName = color => {\n  let safeValue;\n\n  try {\n    safeValue = colorConvert.keyword.hex(color).toLowerCase();\n  } catch(e) {\n    safeValue = color[0] === '#' ? color.substr(1) : color;\n  }\n\n  return `#${safeValue}` || '#000000';\n}\n\nwindow.pxbColors = {\n  colorConvert,\n  getContrastRatio,\n  getHexFromHexOrName,\n  getLuminance,\n  setColorByContrastWithHsl,\n  setHsl,\n};\n\nexport default {\n  getContrastRatio,\n  getHexFromHexOrName,\n  getLuminance,\n  setColorByContrastWithHsl,\n  setHsl,\n};\n"]},"metadata":{},"sourceType":"module"}